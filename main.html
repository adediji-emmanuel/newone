<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Main Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="style.css" />
  <link href="css/style.css" rel="stylesheet" />
</head>
<body>
  <div class="container mt-5 text-center">
    <div class="card p-4 shadow">
      <h2 class="mb-3">Welcome <span id="welcomeName"></span>!</h2>
      <p>Your role: <strong id="userRole"></strong></p>

      <div class="d-flex flex-wrap justify-content-center gap-3 mt-3">
        <a href="profile.html" class="btn btn-primary"><i class="bi bi-person"></i> Profile</a>
        <a href="contact.html" class="btn btn-secondary"><i class="bi bi-envelope"></i> Contact</a>
        <a href="blog.html" class="btn btn-success"><i class="bi bi-journal-text"></i> Blog</a>
        <a href="admin.html" class="btn btn-warning d-none" id="adminBtn"><i class="bi bi-gear"></i> Admin</a>
        <a href="airtime.html" class="btn btn-warning d-none" id="airtimeBtn"><i class="bi bi-airtime"></i> Airtime</a>
        <button class="btn btn-danger" onclick="logout()"><i class="bi bi-box-arrow-right"></i> Logout</button>
      </div>
    </div>

    <div class="text-center mt-4">
      <div class="form-check form-switch d-inline-block">
        <input class="form-check-input" type="checkbox" id="themeToggle" />
        <label class="form-check-label" for="themeToggle">Dark Mode</label>
      </div>
    </div>
  </div>





  <audio id="bg-music" autoplay loop>
    <source src="music/birthday.mp3" type="audio/mp3" />
  </audio>

  <div class="container my-5">
    <div class="card shadow-lg rounded-4 p-4 text-center" id="game">
      <h1 class="mb-3">ðŸŽ¯ Guess and Win!</h1>

      <select class="form-select mb-3" id="network">
        <option value="" disabled selected>Select your network</option>
        <option value="mtn">MTN</option>
        <option value="airtel">Airtel</option>
        <option value="glo">Glo</option>
      </select>

      <input type="number" id="text" class="form-control text-center" placeholder="Enter a number (0 - 20)" />
      <button id="butt" onclick="guess()" class="btn btn-success mt-3">Submit Guess</button>

      <h2 class="mt-4" id="Number"></h2>
      <h3 id="counts" class="mt-2"></h3>
    </div>

    <div class="card mt-4 d-none text-center p-4" id="result">
      <h3>ðŸŽ‰ You Won!</h3>
      <p>Your airtime card is:</p>
      <h4 id="prize" class="fw-bold"></h4>
    </div>
  </div>


<audio autoplay loop >
  <source src="log/music/birthday.mp3" type="audio/mp3">
</audio>





  <canvas id="confetti-canvas"></canvas>
<audio id="bg-music" src="music/" autoplay loop></audio>
  <script src="script.js"></script>
  <script src="confetti.js"></script>
  <script src="js/theme.js"></script>
  <script>
    // Protect page if user not logged in
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    if (!currentUser) {
      location.href = 'index.html';
    } else {
      document.getElementById('welcomeName').textContent = currentUser.name;
      document.getElementById('userRole').textContent = currentUser.role;

      if (currentUser.role === 'admin') {
        document.getElementById('adminBtn').classList.remove('d-none');
        document.getElementById('airtimeBtn').classList.remove('d-none');
      }
    }

    function logout() {
      localStorage.removeItem('currentUser');
      location.href = 'index.html';
    }
  </script>
</body>
</html>
